<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
  <title>Configurações MQTT</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>
<body>
  <div class="container">
    <h2 class="mt-4">Configurações MQTT</h2>
    <form action="/config" method="POST">
      <div class="form-group">
        <label for="mqttServer">Servidor MQTT:</label>
        <input type="text" class="form-control" id="mqttServer" name="mqttServer" placeholder="Endereço do servidor MQTT" value="{{mqtt_server}}">
      </div>

      <div class="form-group">
        <label for="mqttUser">Utilizador MQTT:</label>
        <input type="text" class="form-control" id="mqttUser" name="mqttUser" placeholder="Utilizador MQTT" value="{{mqtt_user}}">
      </div>

      <div class="form-group">
        <label for="mqttPassword">Senha MQTT:</label>
        <input type="password" class="form-control" id="mqttPassword" name="mqttPassword" placeholder="Senha MQTT">
      </div>

      <div class="form-group">
        <label for="mqttTopic">Tópico Subscrito:</label>
        <input type="text" class="form-control" id="mqttTopic" name="mqttTopic" placeholder="Tópico subscrito" value="{{mqtt_topic}}">
      </div>

      <div class="form-check">
        <input type="checkbox" class="form-check-input" id="deleteWifiConfig">
        <label class="form-check-label" for="deleteWifiConfig">Apagar configuração Wi-Fi</label>
      </div>

      <button type="submit" class="btn btn-primary mt-3">Guardar</button>
    </form>
  </div>

  <script>
    $(document).ready(function() {
      $('#deleteWifiConfig').click(function() {
        if ($(this).is(':checked')) {
          if (!confirm('Tem certeza de que deseja apagar a configuração Wi-Fi?')) {
            $(this).prop('checked', false);
          }
        }
      });
    });
  </script>
</body>
</html>
